app: datahub
environments:
  demo: {}
  dev:
    certificate_arns:
    - ACM-ARN-FOR-datahub-api-dev.london.cloudapps.digital
    - ACM-ARN-FOR-api.datahub.dev.uktrade.io
    - ACM-ARN-FOR-datahub-api-redis-queue-exporter-dev.london.cloudapps.digital
    - ACM-ARN-FOR-datahub-dev.london.cloudapps.digital
    - ACM-ARN-FOR-www.datahub.dev.uktrade.io
    - ACM-ARN-FOR-datahub.dev.uktrade.io
    - ACM-ARN-FOR-datahub-filebrowser-dev.london.cloudapps.digital
    - ACM-ARN-FOR-legacy.datahub.dev.uktrade.io
    - ACM-ARN-FOR-datahub-omis-dev.london.cloudapps.digital
    - ACM-ARN-FOR-omis.datahub.dev.uktrade.io
  mig-test: {}
  prod: {}
  production:
    certificate_arns:
    - ACM-ARN-FOR-api.datahub.trade.gov.uk
    - ACM-ARN-FOR-datahub-api.london.cloudapps.digital
    - ACM-ARN-FOR-datahub-api-redis-queue-exporter.london.cloudapps.digital
    - ACM-ARN-FOR-datahub.london.cloudapps.digital
    - ACM-ARN-FOR-www.datahub.trade.gov.uk
    - ACM-ARN-FOR-datahub-filebrowser.london.cloudapps.digital
    - ACM-ARN-FOR-legacy.datahub.trade.gov.uk
    - ACM-ARN-FOR-omis.trade.gov.uk
  staging:
    certificate_arns:
    - ACM-ARN-FOR-datahub-api-staging.london.cloudapps.digital
    - ACM-ARN-FOR-api.datahub.staging.uktrade.io
    - ACM-ARN-FOR-datahub-api-redis-queue-exporter-staging.london.cloudapps.digital
    - ACM-ARN-FOR-datahub-staging.london.cloudapps.digital
    - ACM-ARN-FOR-www.datahub.staging.uktrade.io
    - ACM-ARN-FOR-datahub-filebrowser-staging.london.cloudapps.digital
    - ACM-ARN-FOR-legacy.datahub.staging.uktrade.io
    - ACM-ARN-FOR-datahub-omis-staging.london.cloudapps.digital
  uat:
    certificate_arns:
    - ACM-ARN-FOR-datahub-api-uat.london.cloudapps.digital
    - ACM-ARN-FOR-api.datahub.uat.uktrade.io
    - ACM-ARN-FOR-datahub-api-redis-queue-exporter-uat.london.cloudapps.digital
    - ACM-ARN-FOR-datahub-uat.london.cloudapps.digital
    - ACM-ARN-FOR-www.datahub.uat.uktrade.io
    - ACM-ARN-FOR-datahub-filebrowser-uat.london.cloudapps.digital
    - ACM-ARN-FOR-legacy.datahub.uat.uktrade.io
    - ACM-ARN-FOR-datahub-omis-uat.london.cloudapps.digital
services:
- env_vars: {}
  environments:
    dev:
      ipfilter: true
      paas: dit-staging/datahub-dev/datahub-api-dev
      url: api.datahub.dev.uktrade.io
    production:
      ipfilter: true
      paas: dit-services/datahub/datahub-api
      url: datahub-api.london.cloudapps.digital
    staging:
      ipfilter: false
      paas: dit-staging/datahub-staging/datahub-api-staging
      url: api.datahub.staging.uktrade.io
    uat:
      ipfilter: true
      paas: dit-staging/datahub-uat/datahub-api-uat
      url: api.datahub.uat.uktrade.io
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  type: public
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-celerybeat
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-celerylongrunning
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-celeryworker
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-background-worker
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-long-running-worker
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-short-running-worker
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      paas: dit-staging/datahub-dev/datahub-api-dev
    production:
      paas: dit-services/datahub/datahub-api
    staging:
      paas: dit-staging/datahub-staging/datahub-api-staging
    uat:
      paas: dit-staging/datahub-uat/datahub-api-uat
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-cron-scheduler
  notes: service created based on Procfile entry for datahub-api and will require
    access to the same backing services
  repo: git@github.com:uktrade/data-hub-api.git
  secrets: {}
  secrets_from: datahub-api
  type: backend
- env_vars: {}
  environments:
    dev:
      ipfilter: true
      paas: dit-staging/datahub-dev/datahub-api-redis-queue-exporter-dev
      url: datahub-api-redis-queue-exporter-dev.london.cloudapps.digital
    production:
      ipfilter: true
      paas: dit-services/datahub/datahub-api-redis-queue-exporter
      url: datahub-api-redis-queue-exporter.london.cloudapps.digital
    staging:
      ipfilter: true
      paas: dit-staging/datahub-staging/datahub-api-redis-queue-exporter-staging
      url: datahub-api-redis-queue-exporter-staging.london.cloudapps.digital
    uat:
      ipfilter: true
      paas: dit-staging/datahub-uat/datahub-api-redis-queue-exporter-uat
      url: datahub-api-redis-queue-exporter-uat.london.cloudapps.digital
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-api-redis-queue-exporter
  repo: git@github.com:uktrade/prom-rq-exporter.git
  secrets: {}
  type: public
- env_vars: {}
  environments:
    dev:
      ipfilter: false
      paas: dit-staging/datahub-dev/datahub-dev
      url: datahub.dev.uktrade.io
    production:
      ipfilter: false
      paas: dit-services/datahub/datahub
      url: www.datahub.trade.gov.uk
    staging:
      ipfilter: false
      paas: dit-staging/datahub-staging/datahub-staging
      url: www.datahub.staging.uktrade.io
    uat:
      ipfilter: false
      paas: dit-staging/datahub-uat/datahub-uat
      url: www.datahub.uat.uktrade.io
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-fe
  repo: git@github.com:uktrade/data-hub-frontend.git
  secrets: {}
  type: public
- env_vars: {}
  environments:
    dev:
      ipfilter: false
      paas: dit-staging/datahub-dev/datahub-filebrowser-dev
      url: legacy.datahub.dev.uktrade.io
    production:
      ipfilter: false
      paas: dit-services/datahub/datahub-filebrowser
      url: legacy.datahub.trade.gov.uk
    staging:
      ipfilter: false
      paas: dit-staging/datahub-staging/datahub-filebrowser-staging
      url: legacy.datahub.staging.uktrade.io
    uat:
      ipfilter: false
      paas: dit-staging/datahub-uat/datahub-filebrowser-uat
      url: legacy.datahub.uat.uktrade.io
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-filebrowser
  repo: git@github.com:uktrade/data-hub-file-browser.git
  secrets: {}
  type: public
- env_vars: {}
  environments:
    dev:
      ipfilter: false
      paas: dit-staging/datahub-dev/datahub-omis-dev
      url: omis.datahub.dev.uktrade.io
    production:
      ipfilter: false
      paas: dit-services/datahub/datahub-omis
      url: omis.trade.gov.uk
    staging:
      ipfilter: true
      paas: dit-staging/datahub-staging/datahub-omis-staging
      url: datahub-omis-staging.london.cloudapps.digital
    uat:
      ipfilter: true
      paas: dit-staging/datahub-uat/datahub-omis-uat
      url: datahub-omis-uat.london.cloudapps.digital
  image_location: public.ecr.aws/uktrade/copilot-bootstrap:latest
  name: datahub-omis-fe
  repo: git@github.com:uktrade/omis-frontend.git
  secrets: {}
  type: public
