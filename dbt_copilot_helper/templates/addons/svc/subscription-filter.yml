# {% version_info %}
Parameters:
  App:
    Type: String
    Description: Your application's name.
  Env:
    Type: String
    Description: The environment name your service, job, or workflow is being deployed to.
  Name:
    Type: String
    Description: The name of the service, job, or workflow being deployed.
Resources:
  SubscriptionFilter:
    Type: AWS::Logs::SubscriptionFilter
    Properties:
      RoleArn: !Sub "arn:aws:iam::${AWS::AccountId}:role/CWLtoSubscriptionFilterRole"
      LogGroupName: !Sub "/copilot/${App}/${Env}/${Name}"
      FilterName: !Sub "${App}-${Env}-stream"
      FilterPattern: ""
      # SubscriptionFilter requires the Destination ARN of the CloudWatch Logs in the main archive logs account.
      DestinationArn: "arn:aws:logs:eu-west-2:812359060647:destination:cwl_log_destination"
