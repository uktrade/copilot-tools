# Generated by copilot-helper v0.1-TEST / 2023-08-22 16:00:00

Parameters:
  App:
    Type: String
    Description: Your application's name.
  Env:
    Type: String
    Description: The environment name your service, job, or workflow is being deployed to.

  EnvironmentSecurityGroup:
    Type: String
  PrivateSubnets:
    Type: String
  VpcId:
    Type: String

Resources:
  VpcEndpoint:
    Type: AWS::EC2::VPCEndpoint
    Metadata:
      cfn-lint:
        config:
          ignore_checks:
            - E1010
    Properties:
      PrivateDnsEnabled: true
      SecurityGroupIds:
        - !GetAtt myRdsDbSecurityGroup.GroupId
        - !Ref EnvironmentSecurityGroup
      ServiceName: 'com.amazonaws.eu-west-2.secretsmanager'
      SubnetIds: !Split [ ",", !Ref PrivateSubnets ]
      VpcEndpointType: Interface
      VpcId: !Ref VpcId
